<div id="localInfoWidget" style="
  padding:10px;
  text-align:center;
  font-family:Arial, sans-serif;
  color:red;
  background-color: rgba(0,0,0,0); /* transparent background */
  font-weight:bold;
">
  <div id="localTime"></div>
  <div id="localLocation"></div>
  <div id="localIP"></div>
</div>

<script>
(function() {
  // 1️⃣ Update visitor local time and date
  function updateTime() {
    const now = new Date();
    const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric',
                      hour: '2-digit', minute: '2-digit', second: '2-digit' };
    document.getElementById('localTime').innerText = "Time & Date: " + now.toLocaleString(undefined, options);
  }
  setInterval(updateTime, 1000);
  updateTime();

  // 2️⃣ Fetch location and IP via IPAPI
  fetch('https://ipapi.co/json/')
    .then(res => res.json())
    .then(data => {
      const locationText = `Location: ${data.city || 'Unknown'}, ${data.region || ''}, ${data.country_name || ''}`;
      const ipText = `IP: ${data.ip || 'Unknown'}`;
      document.getElementById('localLocation').innerText = locationText;
      document.getElementById('localIP').innerText = ipText;
    })
    .catch(err => {
      document.getElementById('localLocation').innerText = "Location: Unknown";
      document.getElementById('localIP').innerText = "IP: Unknown";
      console.error(err);
    });
})();
</script>
